hashmap and position with number of moves to limit space search